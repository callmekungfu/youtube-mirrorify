(this["webpackJsonpyoutube-mirrorify"]=this["webpackJsonpyoutube-mirrorify"]||[]).push([[0],{36:function(e,t,a){e.exports=a(70)},67:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(19),l=a(33),i=a(14),s=a(4),o=a(5),c=a(7),h=a(6),d=a(2),u=a(8),m=a(29),p=a(11),b=a(32),g=null,v=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).state={vidId:"",mirror:!1,mirrorText:"",speed:1,start:0,end:0},a.initPlayer=a.initPlayer.bind(Object(d.a)(a)),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.speed!==this.state.speed&&(this.setState({speed:e.speed}),this.setPlayBackRate(e.speed)),e.mirror!==this.state.mirror&&(this.setState({mirror:e.mirror}),this.setMirror(e.mirror)),e.video!==this.state.vidId&&(this.setState({vidId:e.video}),g.playVideo())}},{key:"initPlayer",value:function(e){g=e.target,this.props.onReady()}},{key:"setPlayBackRate",value:function(e){g.setPlaybackRate(e)}},{key:"setMirror",value:function(e){e?this.setState({mirrorText:"mirrored"}):this.setState({mirrorText:""})}},{key:"render",value:function(){return n.createElement("div",null,n.createElement("div",{className:"general-prompt",hidden:""!==this.state.vidId},this.props.fromWatch?n.createElement("div",null,n.createElement("p",null,"Loading Your Video Now...")):n.createElement("div",null,n.createElement("h1",null,"YouTube Mirrorify"),n.createElement("h2",null,"Play Video by pasting the link in the box below"),n.createElement("div",{className:"mb-30"},"Built with ",n.createElement("div",{className:"beating-heart"},"\u2764")," by ",n.createElement("a",{href:"https://yonglinwang.ca"},"Yong Lin Wang"),", for those who dance."),n.createElement("button",{className:"btn btn-primary"},n.createElement(p.a,{icon:b.a})," GitHub Repo"))),n.createElement("div",{className:this.state.mirror?"player-container mirrored":"player-container",hidden:""===this.state.vidId},n.createElement(m.a,{className:"video-player",videoId:this.state.vidId,onReady:this.initPlayer,opts:{playerVars:{fs:0,autoplay:1}}})))}}]),t}(n.Component),C=a(21),y=a.n(C),E=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).state={speed:1},a.handleChange=a.handleChange.bind(Object(d.a)(a)),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){var t=parseFloat(e.target.value);this.props.speedChange(t),this.setState({speed:t})}},{key:"render",value:function(){return n.createElement("select",{onChange:this.handleChange,value:this.state.speed},n.createElement("option",{value:"2"},"2"),n.createElement("option",{value:"1.75"},"1.75"),n.createElement("option",{value:"1.5"},"1.5"),n.createElement("option",{value:"1.25"},"1.25"),n.createElement("option",{value:"1"},"Normal"),n.createElement("option",{value:"0.75"},"0.75"),n.createElement("option",{value:"0.5"},"0.5"),n.createElement("option",{value:"0.25"},"0.25"))}}]),t}(n.Component),f=a(13),k=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).state={mirrored:!1},a.handleClick=a.handleClick.bind(Object(d.a)(a)),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(){this.props.mirrored!==this.state.mirrored&&this.setState({mirrored:!!this.props.mirrored})}},{key:"handleClick",value:function(e){var t=!this.state.mirrored;this.props.handleMirrorChange(t),this.setState({mirrored:t})}},{key:"render",value:function(){return n.createElement("button",{className:"btn mirror-btn",onClick:this.handleClick},n.createElement(p.a,{icon:f.d})," ",this.state.mirrored?"Normal Video":"Mirror Video")}}]),t}(n.Component),T=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).state={target:"",bad_input:!1},a.handleChange=a.handleChange.bind(Object(d.a)(a)),a.handleClick=a.handleClick.bind(Object(d.a)(a)),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){this.setState({target:e.target.value,bad_input:!1})}},{key:"handleClick",value:function(){try{var e=this.youtubeParser(this.state.target);this.props.handleTargetChange(e)}catch(t){this.setState({bad_input:!0})}}},{key:"render",value:function(){return n.createElement("div",{className:this.state.bad_input?"error":""},n.createElement("p",{className:"error-prompt",hidden:!this.state.bad_input},"This is not a valid YouTube link."),n.createElement("input",{type:"text",className:"link-input",placeholder:"Paste YouTube Link Here",onChange:this.handleChange}),n.createElement("button",{className:"btn search-btn",onClick:this.handleClick},n.createElement(p.a,{icon:f.a})))}},{key:"youtubeParser",value:function(e){var t=e.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/);if(t&&11===t[7].length)return t[7];throw new Error("Not a YouTube Link or ID.")}}]),t}(n.Component),O=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={startTime:0,endTime:-1,bad_input:!1},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"handleStartTimeChange",value:function(e){console.log(e.target.value)}},{key:"handleEndTimeChange",value:function(e){console.log(e.target.value)}},{key:"render",value:function(){return n.createElement("div",{className:this.state.bad_input?"error":""},n.createElement("p",{className:"error-prompt",hidden:!this.state.bad_input},"Your Loop timer has problem."),n.createElement("div",{className:"loop-control-container"},n.createElement("h5",null,"From"),n.createElement("input",{type:"number",placeholder:"Start",className:"time-input",defaultValue:"".concat(this.state.startTime),onChange:this.handleStartTimeChange}),n.createElement("h5",null,"To"),n.createElement("input",{type:"number",placeholder:"End",className:"time-input",defaultValue:"".concat(this.state.endTime),onChange:this.handleEndTimeChange}),n.createElement("div",null,n.createElement("input",{type:"checkbox",id:"switch"})," ",n.createElement("label",null,"Toggle"))))}}]),t}(n.Component),j=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).state={closed:!1,fullscreen:!1},a.handleCloseAction=a.handleCloseAction.bind(Object(d.a)(a)),a.handleFullscreenToggle=a.handleFullscreenToggle.bind(Object(d.a)(a)),a.handleSpeedChange=a.handleSpeedChange.bind(Object(d.a)(a)),a.handleMirrorChange=a.handleMirrorChange.bind(Object(d.a)(a)),a.handleTargetChange=a.handleTargetChange.bind(Object(d.a)(a)),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"handleCloseAction",value:function(){this.setState({closed:!this.state.closed})}},{key:"handleFullscreenToggle",value:function(){var e=document.documentElement,t=document;this.setState({fullscreen:!this.state.fullscreen}),this.state.fullscreen?t.exitFullscreen?t.exitFullscreen():t.mozCancelFullScreen?t.mozCancelFullScreen():t.webkitExitFullscreen?t.webkitExitFullscreen():t.msExitFullscreen&&t.msExitFullscreen():e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}},{key:"handleSpeedChange",value:function(e){this.props.handleSpeedChange(e)}},{key:"handleMirrorChange",value:function(e){this.props.handleMirrorChange(e)}},{key:"handleTargetChange",value:function(e){this.props.handleTargetChange(e)}},{key:"render",value:function(){return n.createElement("div",{className:"controls-master"},n.createElement("div",{className:"persistent-controls"},n.createElement(y.a,{transitionName:"fade",transitionEnterTimeout:300,transitionLeaveTimeout:300},this.state.closed?n.createElement("button",{className:"btn btn-primary btn-round fullscreen",onClick:this.handleCloseAction},n.createElement(p.a,{icon:f.b})):null),n.createElement("button",{className:"btn btn-secondary btn-round fullscreen",onClick:this.handleFullscreenToggle},n.createElement(p.a,{icon:this.state.fullscreen?f.c:f.e}))),n.createElement(y.a,{transitionName:"slide",transitionEnterTimeout:600,transitionLeaveTimeout:600},this.state.closed?null:n.createElement("div",{className:"controls-container"},n.createElement("div",{className:"hide-controls",onClick:this.handleCloseAction},n.createElement(p.a,{icon:f.f})),n.createElement("div",null,n.createElement("h4",null,"Player Utilities"),n.createElement(E,{speedChange:this.handleSpeedChange}),n.createElement(k,{handleMirrorChange:this.handleMirrorChange,mirrored:this.props.mirrored})),n.createElement("div",null,n.createElement("h4",null,"Loop Video"),n.createElement(O,{handleStartTimeChange:this.props.handleStartTimeChange,handleEndTimeChange:this.props.handleEndTimeChange})),n.createElement("div",null,n.createElement("h4",null,"Play Video"),n.createElement(T,{handleTargetChange:this.handleTargetChange})))))}}]),t}(n.Component),S=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).state={speed:1,mirror:!1,target:"",fromWatch:!1,playerReady:!1,loop:!1,startTime:0,endTime:-1},a.handleSpeedChange=a.handleSpeedChange.bind(Object(d.a)(a)),a.handleMirrorChange=a.handleMirrorChange.bind(Object(d.a)(a)),a.handleTargetChange=a.handleTargetChange.bind(Object(d.a)(a)),a.handlePlayerReady=a.handlePlayerReady.bind(Object(d.a)(a)),a.handleStartTimeChange=a.handleStartTimeChange.bind(Object(d.a)(a)),a.handleEndTimeChange=a.handleEndTimeChange.bind(Object(d.a)(a)),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=-1!==this.props.match.path.indexOf("watch");this.setState({fromWatch:e,mirror:e})}},{key:"componentDidUpdate",value:function(){if(this.state.playerReady&&this.props.location&&this.props.location.search&&""===this.state.target){var e=this.props.location.search.substr(this.props.location.search.indexOf("?v=")+3,11);this.setState({target:e})}}},{key:"handlePlayerReady",value:function(){this.setState({playerReady:!0})}},{key:"handleSpeedChange",value:function(e){this.setState({speed:e})}},{key:"handleMirrorChange",value:function(e){this.setState({mirror:e})}},{key:"handleTargetChange",value:function(e){this.setState({target:e})}},{key:"handleStartTimeChange",value:function(e){this.setState({startTime:e})}},{key:"handleEndTimeChange",value:function(e){this.setState({endTime:e})}},{key:"render",value:function(){return n.createElement("div",null,n.createElement(v,{fromWatch:this.state.fromWatch,video:this.state.target,speed:this.state.speed,mirror:this.state.mirror,onReady:this.handlePlayerReady}),n.createElement(j,{handleSpeedChange:this.handleSpeedChange,handleMirrorChange:this.handleMirrorChange,handleTargetChange:this.handleTargetChange,mirrored:this.state.mirror,handleStartTimeChange:this.handleStartTimeChange,handleEndTimeChange:this.handleEndTimeChange}))}},{key:"youtubeParser",value:function(e){var t=e.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/);if(t&&11===t[7].length)return t[7];throw new Error("Not a YouTube Link or ID.")}}]),t}(n.Component);a(67);r.render(n.createElement(l.a,null,n.createElement(i.c,null,n.createElement(i.a,{exact:!0,path:"/",component:S}),n.createElement(i.a,{exact:!0,path:"/watch",component:S}))),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.60d3f6e9.chunk.js.map